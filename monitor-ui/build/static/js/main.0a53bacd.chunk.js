(this["webpackJsonpmonitor-ui"]=this["webpackJsonpmonitor-ui"]||[]).push([[0],{36:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},40:function(e,n,t){e.exports=t(78)},45:function(e,n,t){},73:function(e,n){},76:function(e,n,t){},78:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),o=t(34),a=t.n(o),s=(t(45),t(11)),u=t(1),i=t.n(u),l=t(2),f=t(17),p=t(35),m=t.n(p),d=t(18),h="http://localhost:5050/api/redeem",v="http://localhost:5050/api/member",b=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("call=>initLoadData"),e.next=3,fetch("http://localhost:5050/api/member/server").then((function(e){return e.json()})).then((function(e){e.insertId&&e.insertId>0&&console.log("action:member insertId:",e.insertId)})).catch((function(e){return console.log("Error:".concat(e," ").concat(v))}));case 3:return e.next=5,fetch("http://localhost:5050/api/redeem/server").then((function(e){return e.json()})).then((function(e){e.insertId&&e.insertId>0&&console.log("action:redeem insertId:",e.insertId)})).catch((function(e){return console.log("Error:".concat(e," ").concat("http://localhost:5050/api/redeem/server"))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("call=>saveRedeemLocal"),e.abrupt("return",new Promise(function(){var e=Object(l.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)}).catch((function(e){r(e)}));case 2:e.sent?t("Save redeem to local success"):r("Cannot save redeem to local");case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("call=>saveMemberLocal"),e.abrupt("return",new Promise(function(){var e=Object(l.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)}).catch((function(e){r(e)}));case 2:e.sent?t("Save member to local success"):r("Cannot save member to local");case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=t(36),x=t.n(y);t(76);function j(){var e=Object(f.a)(["\n  background: red;\n  padding: 5px;\n"]);return j=function(){return e},e}function O(){var e=Object(f.a)(["\n  background: green;\n  padding: 5px;\n  color: white;\n"]);return O=function(){return e},e}var k=d.a.span(O()),E=d.a.span(j()),S=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,console.log("call=>uploadMember"),new Promise(function(){var e=Object(l.a)(i.a.mark((function e(n,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v).then((function(e){return e.json()})).catch((function(e){return console.log("Error:".concat(e," ").concat(v))}));case 2:e.sent?n("member sync up success"):t("member sync up failure");case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:return e.next=5,console.log("call=>uploadRedeem"),new Promise(function(){var e=Object(l.a)(i.a.mark((function e(n,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h).then((function(e){return e.json()})).catch((function(e){return console.log("Error:".concat(e," ").concat(h))}));case 2:e.sent?n("redeem sync up success"):t("redeem sync up failure");case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.useState)(""),n=Object(s.a)(e,2),t=n[0],o=n[1],a=Object(r.useState)(!1),u=Object(s.a)(a,2),f=u[0],p=u[1],d=Object(r.useState)(0),h=Object(s.a)(d,2),v=h[0],b=h[1];return Object(r.useEffect)((function(){var e=m()("http://softcrmpkh.dyndns.org:5000",{transports:["websocket"]});e.on("create_redeem",function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(JSON.parse(n));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.on("create_member",function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(JSON.parse(n));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.on("client_id",(function(e){o("Your id: "+e),b(new Date),p(!0),S()})),e.on("client_close",(function(e){p(e)})),e.on("timeSync",(function(e){I(e)})),e.on("error",(function(){p(!1)})),e.on("connect_error",(function(e){p(!1)})),e.on("connect_failed",(function(e){p(!1)})),e.on("disconnect",(function(e){p(!1)}))}),[]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("img",{src:x.a,className:"App-logo",alt:"logo"}),c.a.createElement("div",{style:{marginBottom:"20px",color:"chocolate"}},t),c.a.createElement("div",null,f?c.a.createElement(k,null,"Connected."):c.a.createElement(E,null,"Disconnect")),c.a.createElement("div",{className:"DivButton"},c.a.createElement("button",{onClick:function(){return I()},className:"Button"},"Refresh Sync API Service",c.a.createElement("br",null),"http://softcrmpkh.dyndns.org:5000")),c.a.createElement("div",null,"Time at: ",v&&v.toLocaleString())))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.0a53bacd.chunk.js.map